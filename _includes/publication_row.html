{% assign p = include.pub %}

{% comment %} highlight your name {% endcomment %}
{% assign authors_marked = p.authors | replace: 'Agarwal, Amit', '<strong><em>Agarwal, Amit</em></strong>' %}

{% comment %} pick best title target {% endcomment %}
{% assign title_href = p.paper_url | default: p.pdf_url | default: p.url | relative_url %}

{% comment %} venue badge detection from venue or URL {% endcomment %}
{% assign source = p.venue | downcase | default: '' %}
{% if source == '' %}
  {% assign source = p.paper_url | downcase | default: p.pdf_url | downcase | default: '' %}
{% endif %}

{% assign badge_key = '' %}
{% assign badge_text = '' %}
{% if source contains 'emnlp' %}{% assign badge_key='emnlp' %}{% assign badge_text='EMNLP' %}
{% elsif source contains 'naacl' %}{% assign badge_key='naacl' %}{% assign badge_text='NAACL' %}
{% elsif source contains 'acl' or source contains 'aclanthology' %}{% assign badge_key='acl' %}{% assign badge_text='ACL' %}
{% elsif source contains 'neurips' %}{% assign badge_key='neurips' %}{% assign badge_text='NeurIPS' %}
{% elsif source contains 'iclr' %}{% assign badge_key='iclr' %}{% assign badge_text='ICLR' %}
{% elsif source contains 'icml' %}{% assign badge_key='icml' %}{% assign badge_text='ICML' %}
{% elsif source contains 'cvpr' %}{% assign badge_key='cvpr' %}{% assign badge_text='CVPR' %}
{% elsif source contains 'iccv' %}{% assign badge_key='iccv' %}{% assign badge_text='ICCV' %}
{% elsif source contains 'eccv' %}{% assign badge_key='eccv' %}{% assign badge_text='ECCV' %}
{% elsif source contains 'ieee' %}{% assign badge_key='ieee' %}{% assign badge_text='IEEE' %}
{% elsif source contains 'acm' %}{% assign badge_key='acm' %}{% assign badge_text='ACM' %}
{% elsif source contains 'arxiv' or source contains '/abs/' %}{% assign badge_key='arxiv' %}{% assign badge_text='arXiv' %}
{% endif %}

<li class="pub-item" data-tags="{{ p.tags | join:' ' }}">
  <strong>
    <a class="pub-title" href="{{ title_href }}">{{ p.title }}</a>
    {% if badge_key != '' %}
      <span class="venue-badge badge-{{ badge_key }}">{{ badge_text }}</span>
    {% endif %}
  </strong><br/>
  <em>{{ authors_marked }}</em>.
  {% if p.venue %} {{ p.venue }}{% endif %}{% if p.year %} ({{ p.year }}){% endif %}.

  <div class="link-pills">
    {% if p.paper_url %}<a class="link-pill" href="{{ p.paper_url }}">ðŸ“„ Paper</a>{% endif %}
    {% if p.pdf_url %}<a class="link-pill pill--pdf" href="{{ p.pdf_url }}">PDF</a>{% endif %}
    {% if p.code_url %}<a class="link-pill pill--code" href="{{ p.code_url }}">Code</a>{% endif %}
    {% if p.bibtex %}<button class="link-pill pill--copy" data-bib="{{ p.bibtex | escape }}">BibTeX</button>{% endif %}
  </div>
</li>
