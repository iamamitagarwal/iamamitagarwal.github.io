<button id="themeToggle" aria-label="Toggle theme"
  style="position:fixed; right:16px; bottom:16px; z-index:9999; border:0; padding:10px 12px; border-radius:999px; background:#0d1117; color:#fff; cursor:pointer;">
  ðŸŒ™
</button>
<script>
(function(){
  const key='mm-theme';
  const root=document.documentElement;
  const btn=document.getElementById('themeToggle');
  const apply = m => { root.classList.toggle('theme-dark', m==='dark'); btn.textContent = m==='dark' ? 'â˜€ï¸' : 'ðŸŒ™'; };
  let mode = localStorage.getItem(key) || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
  apply(mode);
  btn.onclick = () => { mode = (mode==='dark'?'light':'dark'); localStorage.setItem(key,mode); apply(mode); };
})();
</script>
<style>
/* simple dark theme overrides */
.theme-dark { background:#0d1117; color:#e6edf3; }
.theme-dark a { color:#2f81f7; }
.theme-dark .greedy-nav, .theme-dark .masthead { background:#0d1117; }
.theme-dark .page__content, .theme-dark .sidebar, .theme-dark .page__inner-wrap { background:transparent !important; }
.theme-dark .archive__item-excerpt, .theme-dark .notice--primary { color:#c9d1d9; }
.theme-dark img, .theme-dark video { filter: none; } /* keep media colors */
</style>
